{"version":3,"file":"index.js","sources":["../src/api.js","../src/Autocomplete.js","../src/AddressForm/useMergedStyles.js","../src/AddressForm/AddressForm.js","../src/CountrySelect.js","../src/AddressForm/AddressFormInternational.js","../src/verify.js"],"sourcesContent":["// External Dependencies\nimport base64 from 'base-64'\n\nexport const postAutocompleteAddress = (\n  apiKey,\n  addressPrefix,\n  additionalAddressData\n) => {\n  const url = new URL('https://api.lob.com/v1/us_autocompletions')\n  url.searchParams.append('av_integration_origin', window.location.href)\n  url.searchParams.append('integration', 'react-address-autocomplete')\n  url.searchParams.append('valid_addresses', 'true')\n  url.searchParams.append('case', 'proper')\n  const init = {\n    method: 'POST',\n    headers: {\n      Authorization: `Basic ${base64.encode(apiKey + ':')}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      address_prefix: addressPrefix,\n      ...additionalAddressData\n    })\n  }\n\n  return fetch(url, init)\n}\n\nexport const postVerifyAddress = (apiKey, address) => {\n  const payload = typeof address === 'string' ? { address } : address\n  const url = new URL('https://api.lob.com/v1/us_verifications')\n  url.searchParams.append('av_integration_origin', window.location.href)\n  url.searchParams.append('integration', 'react-address-autocomplete')\n  const init = {\n    method: 'POST',\n    headers: {\n      Authorization: `Basic ${base64.encode(apiKey + ':')}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  }\n\n  return fetch(url, init)\n}\n\nexport const postVerifyInternationalAddress = (\n  apiKey,\n  address,\n  countryCode\n) => {\n  const url = new URL('https://api.lob.com/v1/intl_verifications')\n  url.searchParams.append('av_integration_origin', window.location.href)\n  url.searchParams.append('integration', 'react-address-autocomplete')\n  const init = {\n    method: 'POST',\n    headers: {\n      Authorization: `Basic ${base64.encode(apiKey + ':')}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ address, country: countryCode })\n  }\n\n  return fetch(url, init)\n}\n","// External Dependencies\nimport React, { useEffect, useState, useRef } from 'react'\nimport Select, { components } from 'react-select'\nimport throttle from 'lodash.throttle'\n\n// Internal Dependencies\nimport { postAutocompleteAddress } from './api'\n\nconst LOB_LABEL = 'lob-label'\nconst LOB_URL =\n  'https://www.lob.com/address-verification?utm_source=autocomplete&utm_medium=react'\n\nconst lobGrayText = {\n  color: '#888',\n  textDecoration: 'inherit'\n}\n\nconst lobLabel = {\n  alignItems: 'center',\n  borderBottom: '1px solid #DDDDDD',\n  cursor: 'pointer',\n  display: 'flex',\n  fontSize: '17px',\n  padding: '16px',\n  pointerEvents: 'none'\n}\n\nconst lobLabelLink = {\n  fontWeight: 600,\n  color: '#0699D6',\n  textDecoration: 'inherit'\n}\n\nconst lobLabelText = {\n  flex: 1,\n  fontWeight: 400,\n  marginLeft: '12px'\n}\n\nconst lobLogo = {\n  height: '.9em',\n  marginLeft: '1px',\n  marginTop: '3px'\n}\n\nconst logoLarge = {\n  height: '21px'\n}\n\nconst LobLogo = ({ style }) => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 1259 602'\n      style={style}\n    >\n      <path\n        fill='#0099d7'\n        /* eslint-ignore-next-line */\n        d='M1063,141c-47.06,0-89,18.33-121,50.78V0H780V338.74C765,222.53,666.88,138,540,138c-137,0-242,101-242,232a235,235,0,0,0,7.7,60H164V0H0V585H307l14.54-112.68C359.94,550,441.74,602,540,602c127.75,0,225.08-83.62,240-200.41V585H930V540.27c31.8,37,77.27,56.73,133,56.73,103,0,196-109,196-228C1259,239,1175,141,1063,141ZM540,450c-45,0-81-36-81-80s36-80,81-80c46,0,81,35,81,80S585,450,540,450Zm475-1c-46,0-83-36-83-80a82.8,82.8,0,0,1,82.6-83h.4c47,0,85,37,85,83C1100,413,1062,449,1015,449Z'\n      />\n    </svg>\n  )\n}\n\nconst poweredByLob = () => (\n  <a href={LOB_URL} style={lobGrayText}>\n    <span style={{ verticalAlign: 'top' }}>Powered by </span>\n    <LobLogo style={lobLogo} />\n  </a>\n)\n\nconst getLobLabel = () => (\n  <div style={lobLabel}>\n    <LobLogo style={logoLarge} />\n    <span style={{ ...lobGrayText, ...lobLabelText }}>\n      Deliverable addresses\n    </span>\n    <a style={lobLabelLink} href={LOB_URL}>\n      Learn more\n    </a>\n  </div>\n)\n\n// Highlight the users input in the primary line by comparing char by char. We only check the\n// primary line for simplicity sake\nconst getOptionElement = (suggestion, inputValue) => {\n  /* eslint-disable camelcase */\n  const { primary_line, city, state, zip_code } = suggestion\n\n  let boldStopIndex = 0\n\n  inputValue.split('').forEach((inputChar) => {\n    if (\n      inputChar.toLowerCase() ===\n      primary_line.charAt(boldStopIndex).toLowerCase()\n    ) {\n      boldStopIndex += 1\n    }\n  })\n\n  const primaryLineElement =\n    boldStopIndex === 0 ? (\n      <span>{primary_line}, </span>\n    ) : boldStopIndex === primary_line.length ? (\n      <span>\n        <strong>{primary_line}, </strong>\n      </span>\n    ) : (\n      <span>\n        <strong>{primary_line.substring(0, boldStopIndex)}</strong>\n        {primary_line.substring(boldStopIndex)},{' '}\n      </span>\n    )\n\n  return (\n    <span>\n      {primaryLineElement}\n      <span style={lobGrayText}>\n        {city},&nbsp;{state.toUpperCase()},&nbsp;{zip_code}\n      </span>\n    </span>\n  )\n  /* eslint-enable camelcase */\n}\n\n/**\n * Part of Lob's response body schema for US autocompletions\n * https://docs.lob.com/#section/Autocompletion-Test-Env\n * @typedef AddressObject\n * @param {string} primary_line\n * @param {string?} secondary_line\n * @param {string} city\n * @param {string} state\n * @param {string} zip_code\n */\n\n/**\n * @typedef SelectionObject\n * @param {string} label - The address formatted as a single line.\n * @param {AddressObject} value - The address in its individual components.\n */\n\n/**\n * The equivalent to react-select's onChange\n * @callback onSelection\n * @param {SelectionObject} option - The selected value from Lob's autocomplete\n */\n\n/**\n * @callback onInputChange\n * @param {string} newValue - The value of the input component\n * @param {Object} actionMeta - Describes the event that occured to the input. See\n *  https://react-select.com/props for more details\n */\n\n// /**\n//  * @callback onSuggestion\n//  * @param {Array.<SelectionObject>} suggestions - Address that start the same as the user's input\n//  */\n\n/**\n * @callback onError\n * @param {string} errorMessage\n */\n\n// We override react-select's default input component in order to let users edit their input value\n// and any selected values\nconst Input = (props) => <components.Input {...props} isHidden={false} />\n\n/**\n * @param {Object?} addressComponentValues - Specifies the search for autocomplete suggestions by\n *  including a city, state, and/or zip_code.\n * @param {string} apiKey - Public API key to your Lob account.\n * @param {boolean?} delaySearch -\n *  Delay calls to the API instead of calling on every keystroke.\n *  Default: true\n * @param {number?} delayValue - The time in milliseconds to wait between each API call.\n *  Default: 800\n * @param {string?} inputValue - Allows you to control the value of the input element\n * @param {onSelection?} onSelection -\n *  Callback function when the select component changes.\n * @param {onInputChange?} onInputChange -\n *  Callback function when the input value changes.\n * @param {onError?} onError - Callback function when we receive an API error.\n * @param {boolean} primaryLineOnly - When true, applying a suggestion updates the value of our\n *  select component with only the primary line of the address instead of the complete address.\n */\nconst Autocomplete = ({\n  addressComponentValues = {},\n  apiKey,\n  delaySearch = true,\n  delayValue = 800,\n  onSelection = () => {},\n  onError = () => {},\n  onInputChange = () => {},\n  inputValue: defaultInputValue = '',\n  primaryLineOnly = false,\n  ...reactSelectProps\n}) => {\n  const [inputValue, setInputValue] = useState(defaultInputValue)\n  const [selectValue, setSelectValue] = useState('AD')\n  const [autocompleteResults, setAutocompleteResults] = useState([])\n\n  const fetchData = (inputValue, addressComponentValues) =>\n    postAutocompleteAddress(apiKey, inputValue, addressComponentValues)\n      .then((result) => result.json())\n      .then(({ suggestions, error }) => {\n        if (error) {\n          onError(error.message)\n          return\n        }\n\n        const newSuggestions = suggestions.map((x) => ({\n          value: x,\n          label: getOptionElement(x, inputValue)\n        }))\n\n        setAutocompleteResults([\n          {\n            value: LOB_LABEL,\n            label: getLobLabel()\n          },\n          ...newSuggestions\n        ])\n      })\n      .catch((err) => {\n        console.error(err.message)\n        onError(err.message)\n      })\n\n  const throttledFetchData = useRef(throttle(fetchData, delayValue)).current\n\n  useEffect(() => {\n    if (inputValue) {\n      if (delaySearch) {\n        // We pass inputValue manually because otherwise throttle would create a snapshot of\n        // fetchData with the previous state of inputValue instead of the new updated one.\n        throttledFetchData(inputValue, addressComponentValues)\n      } else {\n        fetchData(inputValue, addressComponentValues)\n      }\n    }\n  }, [inputValue, delaySearch])\n\n  /** Event handlers */\n  const updateInputValueFromOption = (option) => {\n    if (!option) {\n      setInputValue('')\n      return\n    }\n\n    /* eslint-disable camelcase */\n    const { primary_line, secondary_line, city, state, zip_code } = option.value\n\n    if (primaryLineOnly) {\n      setInputValue(primary_line)\n    } else {\n      const secondary = secondary_line ? ' ' + secondary_line : ''\n      setInputValue(\n        `${primary_line}${secondary}, ${city}, ${state}, ${zip_code}`\n      )\n    }\n    /* eslint-enable camelcase */\n  }\n\n  // Fire when the user types into the input\n  const handleInputChange = (newInputValue, { action }) => {\n    // `onBlur => setInputValue to last selected value\n    if (action === 'input-blur') {\n      // First check is user is controlling input value. If so we use it like for AddressForm\n      setInputValue(inputValue || (selectValue ? selectValue.label : ''))\n    }\n    // onInputChange => update inputValue\n    else if (action === 'input-change') {\n      setInputValue(newInputValue)\n      onInputChange(newInputValue, { action })\n    }\n  }\n\n  // Fires when the select component has changed (as opposed to the input inside the select)\n  const handleChange = (option) => {\n    if (option.value === LOB_LABEL) {\n      window.location.href = LOB_URL\n      return\n    }\n\n    // User has pasted an address directly into input, let's call the API\n    if (typeof option === 'string') {\n      setInputValue(option)\n      setSelectValue(option)\n      onSelection(option)\n      return\n    }\n\n    updateInputValueFromOption(option)\n    onSelection(option)\n  }\n\n  const handleSelect = (option) => {\n    if (option.value !== LOB_LABEL) {\n      updateInputValueFromOption(option)\n      onSelection(option)\n    }\n  }\n\n  const customFilter = (candidate, input) => {\n    return candidate\n  }\n\n  // Remove padding from first option which is our Lob label\n  const customStyles = {\n    option: (styles, { data }) => {\n      if (data.value === LOB_LABEL) {\n        return {\n          ...styles,\n          background: 'none',\n          cursor: 'pointer',\n          padding: '0'\n        }\n      }\n      return styles\n    },\n    ...reactSelectProps.styles\n  }\n\n  return (\n    <Select\n      components={{ Input }}\n      inputValue={inputValue}\n      options={autocompleteResults}\n      controlShouldRenderValue={false}\n      noOptionsMessage={poweredByLob}\n      placeholder='Start typing an address...'\n      value={selectValue}\n      {...reactSelectProps}\n      // We don't let user completely override onChange and onInputChange and risk them breaking\n      // the behavior of our input component.\n      filterOption={customFilter}\n      onChange={handleChange}\n      onInputChange={handleInputChange}\n      onSelect={handleSelect}\n      styles={customStyles}\n    />\n  )\n}\nexport default Autocomplete\n","let baseStyles = {\n  lob_container: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  /* Mimics UI of react-select for consistency */\n  lob_input: {\n    backgroundColor: 'hsl(0, 0%, 100%)',\n    border: 'solid 1px hsl(0, 0%, 80%)',\n    borderRadius: '4px',\n    boxSizing: 'border-box',\n    minHeight: '38px',\n    outline: 0,\n    padding: '0px 8px',\n    width: '100%'\n  },\n  lob_label: {\n    alignSelf: 'center',\n    minWidth: '5em',\n    marginRight: '1em',\n    textAlign: 'end'\n  },\n  lob_row: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginBottom: '1em'\n  }\n}\n\nexport default (userStyles, isInternational) => {\n  const mergedStyles = {}\n\n  if (isInternational) {\n    baseStyles = {\n      ...baseStyles,\n      lob_label: {\n        ...baseStyles.lob_label,\n        minWidth: '8em'\n      }\n    }\n  }\n\n  Object.keys(baseStyles).forEach((key) => {\n    mergedStyles[key] =\n      key in userStyles ? userStyles[key](baseStyles[key]) : baseStyles[key]\n  })\n\n  return mergedStyles\n}\n","/* eslint-disable camelcase */\n\n// External Dependencies\nimport React, { useState } from 'react'\n\n// Internal Dependencies\nimport Autocomplete from '../Autocomplete'\nimport useMergedStyles from './useMergedStyles'\n\nconst defaultForm = {\n  primary_line: '',\n  secondary_line: '',\n  city: '',\n  state: '',\n  zip_code: ''\n}\n\nconst customStyles = {\n  container: (provided) => ({ ...provided, width: '100%' })\n}\n\n/**\n * Similar to Autocomplete except each address component is given its own input. Autocomplete\n * occurs on the primary line but the results are inserted into each component.\n * @param {string} apiKey - Public API key to your Lob account.\n * @param {onSelection?} onSelection -\n *  Callback function when the select component changes.\n * @param {onInputChange?} onInputChange -\n *  Callback function when any input value changes. Use e.target.id to determine which component\n *  is being updated.\n * @param {Object} styles - Override the default styles by providing an object similar to the\n *  styling framework used by react-select. Each key corresponds to a component and maps to a\n *  function that returns the new styles.lob_ Here is an example:\n *    const customStyles = {\n *      container: (baseStyles) => ({\n *        ...baseStyles,\n *        // custom styles go here\n *      })\n *    }\n *  Here are the following style keys used. Note that they are all prefixed with 'lob' to avoid\n *  colliding with the keys used by react-select.\n *  - lob_container\n *  - lob_input\n *  - lob_label\n *  - lob_row\n *\n *  For more details visit https://react-select.com/styles\n */\nconst AddressForm = ({\n  apiKey,\n  onFieldChange = () => {},\n  onSelection = () => {},\n  styles = {},\n  ...additionalProps\n}) => {\n  const [form, setForm] = useState(defaultForm)\n  const { primary_line, secondary_line, city, state, zip_code } = form\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.id]: e.target.value })\n    onFieldChange(e)\n  }\n\n  const handleSelect = (option) => {\n    // Overwrite the contents of our form based on the user's selection. If the selection does not\n    // have a secondary_line we clear it in the form.\n    setForm({\n      ...option.value,\n      secondary_line: option.value.secondary_line || ''\n    })\n\n    onSelection(option)\n  }\n\n  const mergedStyles = useMergedStyles(styles, false /* isInternational */)\n\n  return (\n    <div style={mergedStyles.lob_container}>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='primary_line'>\n          Address\n        </label>\n        <Autocomplete\n          apiKey={apiKey}\n          inputId='primary_line'\n          inputValue={primary_line}\n          {...additionalProps}\n          // Below are properties that we don't let the user overwrite\n          _addressComponentValues={{ city, state, zip_code }}\n          onSelection={handleSelect}\n          primaryLineOnly\n          styles={customStyles}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='secondary_line'>\n          Apt, Suite\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='secondary_line'\n          onChange={handleChange}\n          value={secondary_line}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='city'>\n          City\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='city'\n          onChange={handleChange}\n          value={city}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='state'>\n          State\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='state'\n          onChange={handleChange}\n          value={state}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='zip_code'>\n          Zip\n        </label>\n        <input\n          style={{ ...mergedStyles.lob_input, marginBottom: 'auto' }}\n          id='zip_code'\n          onChange={handleChange}\n          value={zip_code}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default AddressForm\n","// External Dependencies\nimport React from 'react'\n\n/**\n * ISO 3166 Country Codes. Lob international verification does not accept US or US territories\n * (US, AS, PR, FM, GU, MH, MP, PS, PW, or VI). For these addresses please use US verification.\n */\nexport const validLobCountryCodes = [\n  'AD',\n  'AE',\n  'AF',\n  'AG',\n  'AI',\n  'AL',\n  'AN',\n  'AO',\n  'AQ',\n  'AR',\n  'AT',\n  'AU',\n  'AW',\n  'AZ',\n  'BA',\n  'BB',\n  'BD',\n  'BE',\n  'BF',\n  'BG',\n  'BH',\n  'BI',\n  'BJ',\n  'BM',\n  'BN',\n  'BO',\n  'BQ',\n  'BR',\n  'BS',\n  'BT',\n  'BW',\n  'BY',\n  'BZ',\n  'CA',\n  'CD',\n  'CG',\n  'CH',\n  'CI',\n  'CK',\n  'CL',\n  'CM',\n  'CN',\n  'CO',\n  'CR',\n  'CS',\n  'CU',\n  'CV',\n  'CW',\n  'CY',\n  'CZ',\n  'DE',\n  'DJ',\n  'DK',\n  'DM',\n  'DO',\n  'DZ',\n  'EC',\n  'EE',\n  'EG',\n  'EH',\n  'ER',\n  'ES',\n  'ET',\n  'FI',\n  'FJ',\n  'FK',\n  'FO',\n  'FR',\n  'GA',\n  'GB',\n  'GD',\n  'GE',\n  'GH',\n  'GI',\n  'GL',\n  'GM',\n  'GN',\n  'GQ',\n  'GR',\n  'GS',\n  'GT',\n  'GW',\n  'GY',\n  'HK',\n  'HN',\n  'HR',\n  'HT',\n  'HU',\n  'ID',\n  'IE',\n  'IL',\n  'IN',\n  'IO',\n  'IQ',\n  'IR',\n  'IS',\n  'IT',\n  'JM',\n  'JO',\n  'JP',\n  'KE',\n  'KG',\n  'KH',\n  'KI',\n  'KM',\n  'KN',\n  'KP',\n  'KR',\n  'KW',\n  'KY',\n  'KZ',\n  'LA',\n  'LB',\n  'LC',\n  'LI',\n  'LK',\n  'LR',\n  'LS',\n  'LT',\n  'LU',\n  'LV',\n  'LY',\n  'MA',\n  'MC',\n  'MD',\n  'ME',\n  'MG',\n  'MK',\n  'ML',\n  'MM',\n  'MN',\n  'MO',\n  'MR',\n  'MS',\n  'MT',\n  'MU',\n  'MV',\n  'MW',\n  'MX',\n  'MY',\n  'MZ',\n  'NA',\n  'NE',\n  'NF',\n  'NG',\n  'NI',\n  'NL',\n  'NO',\n  'NP',\n  'NR',\n  'NU',\n  'NZ',\n  'OM',\n  'PA',\n  'PE',\n  'PG',\n  'PH',\n  'PK',\n  'PL',\n  'PN',\n  'PT',\n  'PY',\n  'QA',\n  'RO',\n  'RS',\n  'RU',\n  'RW',\n  'SA',\n  'SB',\n  'SC',\n  'SD',\n  'SE',\n  'SG',\n  'SH',\n  'SI',\n  'SK',\n  'SL',\n  'SM',\n  'SN',\n  'SO',\n  'SR',\n  'SS',\n  'ST',\n  'SV',\n  'SX',\n  'SY',\n  'SZ',\n  'TC',\n  'TD',\n  'TG',\n  'TH',\n  'TJ',\n  'TK',\n  'TL',\n  'TM',\n  'TN',\n  'TO',\n  'TR',\n  'TT',\n  'TV',\n  'TW',\n  'TZ',\n  'UA',\n  'UG',\n  'UY',\n  'UZ',\n  'VA',\n  'VC',\n  'VE',\n  'VG',\n  'VN',\n  'VU',\n  'WS',\n  'YE',\n  'ZA',\n  'ZM',\n  'ZW'\n]\n\n/**\n * Select component that hosts all of Lob's valid country codes for international verification.\n * This component does have any unique props.\n */\nconst CountrySelect = ({ ...props }) => (\n  <select {...props}>\n    {validLobCountryCodes.map((code) => (\n      <option key={code} value={code}>\n        {code}\n      </option>\n    ))}\n  </select>\n)\n\nexport default CountrySelect\n","/* eslint-disable camelcase */\n\n// External Dependencies\nimport React, { useState } from 'react'\n\n// Internal Dependencies\nimport CountrySelect from '../CountrySelect'\nimport useMergedStyles from './useMergedStyles'\n\nconst defaultForm = {\n  primary_line: '',\n  secondary_line: '',\n  city: '',\n  state: '',\n  zip_code: ''\n}\n\n/**\n * Renders a group of inputs for each address component including a select input for country code.\n * Does not perform any address autocompletion.\n * @param {onInputChange?} onInputChange -\n *  Callback function when any input value changes. Use e.target.id to determine which component\n *  is being updated.\n * @param {Object} styles - Override the default styles by providing an object similar to the\n *  styling framework used by react-select. Each key corresponds to a component and maps to a\n *  function that returns the new styles.lob_ Here is an example:\n *    const customStyles = {\n *      container: (baseStyles) => ({\n *        ...baseStyles,\n *        // custom styles go here\n *      })\n *    }\n *  Here are the following style keys used. Note that they are all prefixed with 'lob' to avoid\n *  colliding with the keys used by react-select.\n *  - lob_container\n *  - lob_input\n *  - lob_label\n *  - lob_row\n *\n *  For more details visit https://react-select.com/styles\n */\nconst AddressFormInternational = ({\n  onFieldChange = () => {},\n  styles = {}\n}) => {\n  const [form, setForm] = useState(defaultForm)\n  const { primary_line, secondary_line, city, state, zip_code, country } = form\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.id]: e.target.value })\n    onFieldChange(e)\n  }\n\n  const mergedStyles = useMergedStyles(styles, true /* isInternational */)\n\n  return (\n    <div data-testid='intl_container' style={mergedStyles.lob_container}>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='primary_line'>\n          Address Line 1\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='primary_line'\n          onChange={handleChange}\n          value={primary_line}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='secondary_line'>\n          Address Line 2\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='secondary_line'\n          onChange={handleChange}\n          value={secondary_line}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='city'>\n          City / Town\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='city'\n          onChange={handleChange}\n          value={city}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='state'>\n          State / Province / Region\n        </label>\n        <input\n          style={mergedStyles.lob_input}\n          id='state'\n          onChange={handleChange}\n          value={state}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='zip_code'>\n          Zip / Postal Code\n        </label>\n        <input\n          style={{ ...mergedStyles.lob_input }}\n          id='zip_code'\n          onChange={handleChange}\n          value={zip_code}\n        />\n      </div>\n      <div style={mergedStyles.lob_row}>\n        <label style={mergedStyles.lob_label} htmlFor='country'>\n          Country\n        </label>\n        <CountrySelect\n          id='country'\n          onChange={handleChange}\n          style={{ ...mergedStyles.lob_input, marginBottom: 'auto' }}\n          value={country}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default AddressFormInternational\n","// Internal Dependencies\nimport { postVerifyAddress, postVerifyInternationalAddress } from './api'\n\n// Helper function to convert any API error into a JS Error object. This is needed when\n// communication to the API was successful but the payload was bad.\nconst processApiResponse = (apiResponse) =>\n  apiResponse\n    .json()\n    .then((data) =>\n      'error' in data ? Promise.reject(new Error(data.error.message)) : data\n    )\n\n/**\n * A subset of the request object required by Lob. Note: Either zip_code is required or both city\n * and state are required. Learn more about Lob's verification endpoint here:\n * https://docs.lob.com/#operation/us_verification\n * @typedef AddressObject\n * @param {string} primary_line\n * @param {string?} secondary_line\n * @param {string} city\n * @param {string} state\n * @param {string} zip_code\n */\n\n/**\n * Checks the deliverability of a given address and provides meta data such as geo coordinates,\n * county, building type, etc.\n * @param {string} apiKey - The API key associated with your Lob account\n * @param {string | AddressObject} address - The address to verify\n * @returns {Promise<Object>} - The API response from Lob. For more information visit:\n *  https://docs.lob.com/#operation/us_verification\n */\nexport const verify = (apiKey, address) => {\n  // Validate arguments\n  if (!Object.keys(address || {}).length) {\n    return Promise.reject(\n      new Error('Empty address was passed to verify function')\n    )\n  }\n\n  if (!apiKey.length) {\n    return Promise.reject(new Error('Missing API key'))\n  }\n\n  // Send request to Lob and let user decide how to handle the response\n  return postVerifyAddress(apiKey, address).then(processApiResponse)\n}\n\n/**\n * Checks the deliverability of a given address and provides meta data such as geo coordinates,\n * county, building type, etc.\n * @param {string} apiKey - The API key associated with your Lob account\n * @param {string | AddressObject} address - The address to verify\n * @returns {Promise<Object>} - The API response from Lob. For more information visit:\n *  https://docs.lob.com/#operation/us_verification\n */\nexport const verifyInternational = (apiKey, address, countryCode) => {\n  // Validate arguments\n  if (!Object.keys(address || {}).length) {\n    return Promise.reject(\n      new Error('Empty address was passed to verify function')\n    )\n  }\n\n  if (!apiKey.length) {\n    return Promise.reject(new Error('Missing API key'))\n  }\n\n  if (typeof countryCode !== 'string') {\n    return Promise.reject(\n      new Error('Expected countryCode to be of type string')\n    )\n  }\n\n  if (/[A-Z]{2}/.test(countryCode) === false) {\n    return Promise.reject(\n      new Error(\n        'countryCode must be a 2 letter country short-name code (ISO 3166)'\n      )\n    )\n  }\n\n  // Send request to Lob and let user decide how to handle the response\n  return postVerifyInternationalAddress(apiKey, address, countryCode).then(\n    processApiResponse\n  )\n}\n"],"names":["postAutocompleteAddress","apiKey","addressPrefix","additionalAddressData","url","URL","searchParams","append","window","location","href","init","method","headers","Authorization","base64","encode","body","JSON","stringify","address_prefix","fetch","postVerifyAddress","address","payload","postVerifyInternationalAddress","countryCode","country","LOB_LABEL","LOB_URL","lobGrayText","color","textDecoration","lobLabel","alignItems","borderBottom","cursor","display","fontSize","padding","pointerEvents","lobLabelLink","fontWeight","lobLabelText","flex","marginLeft","lobLogo","height","marginTop","logoLarge","LobLogo","style","React","poweredByLob","verticalAlign","getLobLabel","getOptionElement","suggestion","inputValue","primary_line","city","state","zip_code","boldStopIndex","split","forEach","inputChar","toLowerCase","charAt","primaryLineElement","length","substring","toUpperCase","Input","props","components","Autocomplete","addressComponentValues","delaySearch","delayValue","onSelection","onError","onInputChange","defaultInputValue","primaryLineOnly","reactSelectProps","useState","setInputValue","selectValue","setSelectValue","autocompleteResults","setAutocompleteResults","fetchData","then","result","json","suggestions","error","message","newSuggestions","map","x","value","label","err","console","throttledFetchData","useRef","throttle","current","useEffect","updateInputValueFromOption","option","secondary_line","secondary","handleInputChange","newInputValue","action","handleChange","handleSelect","customFilter","candidate","input","customStyles","styles","data","background","Select","baseStyles","lob_container","flexDirection","lob_input","backgroundColor","border","borderRadius","boxSizing","minHeight","outline","width","lob_label","alignSelf","minWidth","marginRight","textAlign","lob_row","marginBottom","userStyles","isInternational","mergedStyles","Object","keys","key","defaultForm","container","provided","AddressForm","onFieldChange","additionalProps","form","setForm","e","target","id","useMergedStyles","validLobCountryCodes","CountrySelect","code","AddressFormInternational","processApiResponse","apiResponse","Promise","reject","Error","verify","verifyInternational","test"],"mappings":"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"}